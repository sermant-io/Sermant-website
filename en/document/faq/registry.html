<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Service Registration FAQs | Sermant</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.svg">
    <meta name="description" content="A Proxyless Service Mesh based on Bytecode Enhancement">
    
    <link rel="preload" href="/assets/css/0.styles.aea4a1e9.css" as="style"><link rel="preload" href="/assets/js/app.b687b1e7.js" as="script"><link rel="preload" href="/assets/js/3.06f127bc.js" as="script"><link rel="preload" href="/assets/js/1.c8bacf5b.js" as="script"><link rel="preload" href="/assets/js/47.8a6f0b3e.js" as="script"><link rel="preload" href="/assets/js/14.199c38f6.js" as="script"><link rel="prefetch" href="/assets/js/10.3c86f8c0.js"><link rel="prefetch" href="/assets/js/100.bc317380.js"><link rel="prefetch" href="/assets/js/101.0e4539ba.js"><link rel="prefetch" href="/assets/js/102.806b7670.js"><link rel="prefetch" href="/assets/js/103.6a5f9697.js"><link rel="prefetch" href="/assets/js/104.438d7d2a.js"><link rel="prefetch" href="/assets/js/105.2d9ea0d0.js"><link rel="prefetch" href="/assets/js/106.1902006d.js"><link rel="prefetch" href="/assets/js/107.3addad12.js"><link rel="prefetch" href="/assets/js/108.92961b8f.js"><link rel="prefetch" href="/assets/js/109.35499d22.js"><link rel="prefetch" href="/assets/js/11.592204d9.js"><link rel="prefetch" href="/assets/js/110.c9d54e80.js"><link rel="prefetch" href="/assets/js/111.611a7295.js"><link rel="prefetch" href="/assets/js/112.96184e46.js"><link rel="prefetch" href="/assets/js/113.d848a339.js"><link rel="prefetch" href="/assets/js/114.490e1858.js"><link rel="prefetch" href="/assets/js/115.f67522b9.js"><link rel="prefetch" href="/assets/js/116.daf5101e.js"><link rel="prefetch" href="/assets/js/117.8200e73f.js"><link rel="prefetch" href="/assets/js/12.fd6a031f.js"><link rel="prefetch" href="/assets/js/13.214eefed.js"><link rel="prefetch" href="/assets/js/15.900a8374.js"><link rel="prefetch" href="/assets/js/16.dc00a508.js"><link rel="prefetch" href="/assets/js/17.7bb9b1f6.js"><link rel="prefetch" href="/assets/js/18.0cb1c621.js"><link rel="prefetch" href="/assets/js/19.376e980d.js"><link rel="prefetch" href="/assets/js/20.341a6ad9.js"><link rel="prefetch" href="/assets/js/21.d802b098.js"><link rel="prefetch" href="/assets/js/22.43cc7ae1.js"><link rel="prefetch" href="/assets/js/23.021ca145.js"><link rel="prefetch" href="/assets/js/24.a3349f17.js"><link rel="prefetch" href="/assets/js/25.698376aa.js"><link rel="prefetch" href="/assets/js/26.a6ac8be9.js"><link rel="prefetch" href="/assets/js/27.09e84572.js"><link rel="prefetch" href="/assets/js/28.b0950095.js"><link rel="prefetch" href="/assets/js/29.e99b36c0.js"><link rel="prefetch" href="/assets/js/30.41dc58ef.js"><link rel="prefetch" href="/assets/js/31.8a608adb.js"><link rel="prefetch" href="/assets/js/32.1e0d9710.js"><link rel="prefetch" href="/assets/js/33.a398e056.js"><link rel="prefetch" href="/assets/js/34.e19240ac.js"><link rel="prefetch" href="/assets/js/35.284e0503.js"><link rel="prefetch" href="/assets/js/36.572ec5d2.js"><link rel="prefetch" href="/assets/js/37.67ca14dd.js"><link rel="prefetch" href="/assets/js/38.00e11239.js"><link rel="prefetch" href="/assets/js/39.9bc42bf2.js"><link rel="prefetch" href="/assets/js/4.7add7152.js"><link rel="prefetch" href="/assets/js/40.bb68876d.js"><link rel="prefetch" href="/assets/js/41.5aad2ff2.js"><link rel="prefetch" href="/assets/js/42.4c8a6e50.js"><link rel="prefetch" href="/assets/js/43.71503fb0.js"><link rel="prefetch" href="/assets/js/44.a0deab68.js"><link rel="prefetch" href="/assets/js/45.5a6500b9.js"><link rel="prefetch" href="/assets/js/46.a7414b43.js"><link rel="prefetch" href="/assets/js/48.aadcaaa5.js"><link rel="prefetch" href="/assets/js/49.ea40d06f.js"><link rel="prefetch" href="/assets/js/5.4a333fb7.js"><link rel="prefetch" href="/assets/js/50.1802cdf6.js"><link rel="prefetch" href="/assets/js/51.1e3e17ce.js"><link rel="prefetch" href="/assets/js/52.e1f15f21.js"><link rel="prefetch" href="/assets/js/53.1cc82a58.js"><link rel="prefetch" href="/assets/js/54.087629cc.js"><link rel="prefetch" href="/assets/js/55.49b5b95f.js"><link rel="prefetch" href="/assets/js/56.8788daf3.js"><link rel="prefetch" href="/assets/js/57.da44ebe0.js"><link rel="prefetch" href="/assets/js/58.13279f74.js"><link rel="prefetch" href="/assets/js/59.50ea3b1d.js"><link rel="prefetch" href="/assets/js/6.72029eac.js"><link rel="prefetch" href="/assets/js/60.9d7171de.js"><link rel="prefetch" href="/assets/js/61.c2f21438.js"><link rel="prefetch" href="/assets/js/62.f73519fb.js"><link rel="prefetch" href="/assets/js/63.fc03f383.js"><link rel="prefetch" href="/assets/js/64.549ab63a.js"><link rel="prefetch" href="/assets/js/65.df4cc878.js"><link rel="prefetch" href="/assets/js/66.5f56e3b0.js"><link rel="prefetch" href="/assets/js/67.09bd6b82.js"><link rel="prefetch" href="/assets/js/68.ab61ad07.js"><link rel="prefetch" href="/assets/js/69.cb31f10a.js"><link rel="prefetch" href="/assets/js/7.698dd478.js"><link rel="prefetch" href="/assets/js/70.fa24862f.js"><link rel="prefetch" href="/assets/js/71.b4b1e637.js"><link rel="prefetch" href="/assets/js/72.5f48b837.js"><link rel="prefetch" href="/assets/js/73.fc6b7ff3.js"><link rel="prefetch" href="/assets/js/74.a93e6a08.js"><link rel="prefetch" href="/assets/js/75.56c9c2bb.js"><link rel="prefetch" href="/assets/js/76.08013959.js"><link rel="prefetch" href="/assets/js/77.c638970a.js"><link rel="prefetch" href="/assets/js/78.766969e2.js"><link rel="prefetch" href="/assets/js/79.b230fe9f.js"><link rel="prefetch" href="/assets/js/8.10750ce9.js"><link rel="prefetch" href="/assets/js/80.53d5bd76.js"><link rel="prefetch" href="/assets/js/81.48fa2a91.js"><link rel="prefetch" href="/assets/js/82.75d2df6a.js"><link rel="prefetch" href="/assets/js/83.0315f74c.js"><link rel="prefetch" href="/assets/js/84.bb56dd4f.js"><link rel="prefetch" href="/assets/js/85.82ead8ef.js"><link rel="prefetch" href="/assets/js/86.532962b5.js"><link rel="prefetch" href="/assets/js/87.2768d3cd.js"><link rel="prefetch" href="/assets/js/88.6a5e162c.js"><link rel="prefetch" href="/assets/js/89.f9a56a5b.js"><link rel="prefetch" href="/assets/js/9.7f57e4b0.js"><link rel="prefetch" href="/assets/js/90.21ae5607.js"><link rel="prefetch" href="/assets/js/91.908a15a8.js"><link rel="prefetch" href="/assets/js/92.72a99823.js"><link rel="prefetch" href="/assets/js/93.61863d0a.js"><link rel="prefetch" href="/assets/js/94.2092419b.js"><link rel="prefetch" href="/assets/js/95.9c02260b.js"><link rel="prefetch" href="/assets/js/96.f8340a8f.js"><link rel="prefetch" href="/assets/js/97.0d52a307.js"><link rel="prefetch" href="/assets/js/98.fb61bc9c.js"><link rel="prefetch" href="/assets/js/99.8e0db346.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aea4a1e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/sermant-logo.png" alt="Sermant" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/faq/registry.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/faq/registry.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/faq/registry.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/faq/registry.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>User Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>FAQ</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/document/faq/" aria-current="page" class="sidebar-link">FAQ</a></li><li><a href="/en/document/faq/framework.html" class="sidebar-link">Sermant Framework FAQs</a></li><li><a href="/en/document/faq/script.html" class="sidebar-link">Dynamic Install and Uninstall Script User Manual</a></li><li><a href="/en/document/faq/registry.html" aria-current="page" class="active sidebar-link">Service Registration FAQs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-no-such-extension-org-apache-dubbo-registry-registryfactory-by-name-sc" class="sidebar-link">Exception：No Such Extension org.apache.dubbo.registry.RegistryFactory by name sc</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-sermant-master-v1-register-error" class="sidebar-link">Exception：/sermant/master/v1/register error</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-connection-reset" class="sidebar-link">Exception：Connection reset</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-https-protocol-is-not-supported" class="sidebar-link">Exception：https protocol is not supported</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-no-such-extension-org-apache-dubbo-metadata-report-metadatareportfactory-by-name-sc" class="sidebar-link">Exception：No such extension org.apache.dubbo.metadata.report.MetadataReportFactory by name sc</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#exception-no-registry-config-found-or-it-s-not-a-valid-config" class="sidebar-link">Exception：No registry config found or it's not a valid config</a></li><li class="sidebar-sub-header"><a href="/en/document/faq/registry.html#what-is-the-relationship-between-plugin-configuration-enablespringregister-enabledubboregister-and-openmigration" class="sidebar-link">What Is The Relationship Between Plugin Configuration, enableSpringRegister/enableDubboRegister, And openMigration?</a></li></ul></li><li><a href="/en/document/faq/flowcontrol.html" class="sidebar-link">Flow Control FAQs</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="service-registration-faqs"><a href="#service-registration-faqs" class="header-anchor">#</a> Service Registration FAQs</h1> <p>This document describes frequently asked questions (FAQs) about using the <a href="https://github.com/sermant-io/Sermant/tree/develop/sermant-plugins/sermant-service-registry" target="_blank" rel="noopener noreferrer">service registration plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="exception-no-such-extension-org-apache-dubbo-registry-registryfactory-by-name-sc"><a href="#exception-no-such-extension-org-apache-dubbo-registry-registryfactory-by-name-sc" class="header-anchor">#</a> Exception：No Such Extension org.apache.dubbo.registry.RegistryFactory by name sc</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>The possible causes are as follows:</p> <p>1.1 The application is not started with the agent. The native dubbo does not support registration with the SC. Therefore, if the application started without agent and the protocol of the registration address is SC, the preceding error is reported.</p> <p>1.2 The core configuration file (${agent_package_path}/agent/config/config.properties) is incorrectly configured. Check the startup log carefully and you will find an error similar to the following:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>The value of the configuration center type (dynamic.config.dynamic_config_type) in the core configuration file is incorrect. As a result, the host application cannot load the agent and the No such extension org.apache.dubbo.registry.RegistryFactory by name sc reports an error.</li></ul> <p>1.3 The core configuration file (${agent_package_path}/agent/config/config.properties) is incorrectly configured. Check the startup log carefully. The error information similar to the following is displayed:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>The configuration center address (dynamic.config.server_address) is incorrectly configured in the core configuration file, the configuration center is not started, or the network is disconnected. As a result, the host application fails to load the agent, and the No such extension org.apache.dubbo.registry.RegistryFactory by name sc reports an error.</li></ul> <h2 id="exception-sermant-master-v1-register-error"><a href="#exception-sermant-master-v1-register-error" class="header-anchor">#</a> Exception：/sermant/master/v1/register error</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>The cause is that the backend is not started or the configured address is incorrect. Start the backend or configure the address correctly. For details about the backend, see the <a href="/en/document/user-guide/sermant-backend.html">backend document</a>.</p> <p>Note: This error does not affect the plugin registration process, but related errors may be reported.</p> <h2 id="exception-connection-reset"><a href="#exception-connection-reset" class="header-anchor">#</a> Exception：Connection reset</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>Check whether the registration center address (servicecomb.service.address) and protocol (HTTP/HTTPS) in the plugin configuration (${agent_package_path}/agent/pluginPackage/service-registry/config/config.yaml) are correct.</p> <h2 id="exception-https-protocol-is-not-supported"><a href="#exception-https-protocol-is-not-supported" class="header-anchor">#</a> Exception：https protocol is not supported</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>You need to enable ssl (servicecomb.service.sslEnabled) in the plugin configuration (${agent_package_path}/agent/pluginPackage/service-registry/config/config.yaml).</p> <h2 id="exception-no-such-extension-org-apache-dubbo-metadata-report-metadatareportfactory-by-name-sc"><a href="#exception-no-such-extension-org-apache-dubbo-metadata-report-metadatareportfactory-by-name-sc" class="header-anchor">#</a> Exception：No such extension org.apache.dubbo.metadata.report.MetadataReportFactory by name sc</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>Check the registration configuration of the dubbo application. Check whether protocol exists and is not sc.</p> <ul><li>Example for dubbo/provider.xml</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">dubbo:</span>registry</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sc://127.0.0.1:30100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">protocol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nacos<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>For example, application.yml (or application.properties). The following uses application.yml as an example.</li></ul> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">dubbo</span><span class="token punctuation">:</span>
  <span class="token key atrule">registry</span><span class="token punctuation">:</span>
    <span class="token key atrule">protocol</span><span class="token punctuation">:</span> nacos
    <span class="token key atrule">address</span><span class="token punctuation">:</span> sc<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span><span class="token number">30100</span>
</code></pre></div><p>If protocol exists and is not set to sc, set protocol to sc or delete the protocol configuration.</p> <h2 id="exception-no-registry-config-found-or-it-s-not-a-valid-config"><a href="#exception-no-registry-config-found-or-it-s-not-a-valid-config" class="header-anchor">#</a> Exception：No registry config found or it's not a valid config</h2> <p>As shown in the following figure:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p>Please refer to the description of <strong>newly developed</strong> dubbo application in <a href="/en/document/plugin/service-registry.html#supported-versions-and-limitations">Service Registration Plug-in Document</a> for the configuration of dubbo's own registry address.</p> <h2 id="what-is-the-relationship-between-plugin-configuration-enablespringregister-enabledubboregister-and-openmigration"><a href="#what-is-the-relationship-between-plugin-configuration-enablespringregister-enabledubboregister-and-openmigration" class="header-anchor">#</a> What Is The Relationship Between Plugin Configuration, enableSpringRegister/enableDubboRegister, And openMigration?</h2> <p>The following table describes the relationship between enableSpringRegister/enableDubboRegister and openMigration.</p> <table><thead><tr><th>enableSpringRegister/enableDubboRegister</th> <th>openMigration</th> <th>effect</th></tr></thead> <tbody><tr><td>true</td> <td>true</td> <td>Enabling the Spring Cloud/Dubbo Migration Function</td></tr> <tr><td>true</td> <td>false</td> <td>Enable Spring cloud/Dubbo With SC Registration</td></tr> <tr><td>false</td> <td>true</td> <td>Disabling the Registration Plugin</td></tr> <tr><td>false</td> <td>false</td> <td>Disabling the Registration Plugin</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/18/2024, 1:29:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/document/faq/script.html" class="prev">
        Dynamic Install and Uninstall Script User Manual
      </a></span> <span class="next"><a href="/en/document/faq/flowcontrol.html">
        Flow Control FAQs
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b687b1e7.js" defer></script><script src="/assets/js/3.06f127bc.js" defer></script><script src="/assets/js/1.c8bacf5b.js" defer></script><script src="/assets/js/47.8a6f0b3e.js" defer></script><script src="/assets/js/14.199c38f6.js" defer></script>
  </body>
</html>
